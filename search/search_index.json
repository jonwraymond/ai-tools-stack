{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"AI Tools Stack","text":"<p>Welcome to the unified documentation for the AI Tools Stack. This site brings all tool libraries together in one place and shows how they compose into a progressive-disclosure MCP surface.</p>"},{"location":"#what-this-stack-provides","title":"What this stack provides","text":"<ul> <li>Canonical tool schemas (toolmodel)</li> <li>Registry and discovery (toolindex)</li> <li>Docs and examples (tooldocs)</li> <li>Execution and chaining (toolrun)</li> <li>Code-mode orchestration (toolcode)</li> <li>Sandbox/runtime backends (toolruntime)</li> <li>Search strategies (toolsearch)</li> <li>MCP server wiring (metatools-mcp)</li> </ul>"},{"location":"#high-level-flow","title":"High-level flow","text":"<pre><code>flowchart LR\n  A[toolmodel] --&gt; B[toolindex]\n  B --&gt; C[tooldocs]\n  B --&gt; D[toolrun]\n  D --&gt; E[toolcode]\n  D --&gt; F[toolruntime]\n  B --&gt; G[toolsearch]\n  B --&gt; H[metatools-mcp]\n  C --&gt; H\n  D --&gt; H\n  E --&gt; H</code></pre>"},{"location":"#quickstart","title":"Quickstart","text":"<ol> <li>Start with <code>toolmodel</code> for your canonical schemas.</li> <li>Register tools in <code>toolindex</code> for discovery.</li> <li>Add docs/examples in <code>tooldocs</code>.</li> <li>Execute tools via <code>toolrun</code>.</li> <li>Expose the MCP surface using <code>metatools-mcp</code>.</li> </ol> <p>See the Components section for per-library examples and diagrams.</p>"},{"location":"#docs-from-each-repo","title":"Docs from each repo","text":"<p>Under Library Docs (from repos) you will find the docs imported directly from each repository at build time.</p>"},{"location":"architecture/overview/","title":"Stack Architecture","text":"<p>This stack is built around progressive disclosure and a clean separation of schema, discovery, docs, execution, and transport.</p>"},{"location":"architecture/overview/#progressive-disclosure-pipeline","title":"Progressive disclosure pipeline","text":"<pre><code>sequenceDiagram\n  participant Agent\n  participant MCP as metatools-mcp\n  participant Index as toolindex\n  participant Docs as tooldocs\n  participant Run as toolrun\n\n  Agent-&gt;&gt;MCP: search_tools(query)\n  MCP-&gt;&gt;Index: Search(query)\n  Index--&gt;&gt;MCP: summaries\n  MCP--&gt;&gt;Agent: summaries\n\n  Agent-&gt;&gt;MCP: describe_tool(id, schema)\n  MCP-&gt;&gt;Docs: DescribeTool(id, schema)\n  Docs--&gt;&gt;MCP: tool schema\n  MCP--&gt;&gt;Agent: schema\n\n  Agent-&gt;&gt;MCP: run_tool(id, args)\n  MCP-&gt;&gt;Run: Run(id, args)\n  Run--&gt;&gt;MCP: result\n  MCP--&gt;&gt;Agent: result</code></pre>"},{"location":"architecture/overview/#tool-execution-and-runtime-isolation","title":"Tool execution and runtime isolation","text":"<pre><code>flowchart LR\n  A[toolrun] --&gt; B[toolruntime]\n  B --&gt; C[unsafe host]\n  B --&gt; D[docker]\n  B --&gt; E[kubernetes]\n  B --&gt; F[firecracker]\n  B --&gt; G[gvisor]\n  B --&gt; H[wasm]</code></pre>"},{"location":"architecture/overview/#search-strategy-layering","title":"Search strategy layering","text":"<pre><code>flowchart LR\n  A[toolindex] --&gt; B[toolsearch]\n  B --&gt; C[BM25]\n  B --&gt; D[future: semantic]\n  B --&gt; E[future: hybrid]</code></pre>"},{"location":"components/metatools-mcp/","title":"metatools-mcp","text":"<p>MCP server that exposes the tool stack via standardized MCP tools.</p>"},{"location":"components/metatools-mcp/#responsibilities","title":"Responsibilities","text":"<ul> <li>Expose search_tools, list_namespaces, describe_tool, list_tool_examples</li> <li>Expose run_tool and run_chain</li> <li>Optionally expose execute_code</li> <li>Use the official MCP Go SDK</li> </ul>"},{"location":"components/metatools-mcp/#example","title":"Example","text":"<pre><code>srv := metatools.NewServer(cfg)\n_ = srv.Run(context.Background(), &amp;mcp.StdioTransport{})\n</code></pre>"},{"location":"components/metatools-mcp/#diagram","title":"Diagram","text":"<pre><code>flowchart LR\n  A[metatools-mcp] --&gt; B[toolindex]\n  A --&gt; C[tooldocs]\n  A --&gt; D[toolrun]\n  A --&gt; E[toolcode]</code></pre>"},{"location":"components/toolcode/","title":"toolcode","text":"<p>Code-mode orchestration layer that wraps search, docs, and execution into a single programmable surface.</p>"},{"location":"components/toolcode/#responsibilities","title":"Responsibilities","text":"<ul> <li>Execute short orchestration snippets</li> <li>Provide a minimal in-sandbox API (SearchTools, DescribeTool, RunTool)</li> <li>Enforce timeouts and limits</li> </ul>"},{"location":"components/toolcode/#example","title":"Example","text":"<pre><code>executor := toolcode.NewDefaultExecutor(cfg)\nres, _ := executor.ExecuteCode(ctx, \"go\", \"__out = 2 + 2\", 3*time.Second)\n</code></pre>"},{"location":"components/toolcode/#diagram","title":"Diagram","text":"<pre><code>flowchart LR\n  A[toolcode] --&gt; B[toolindex]\n  A --&gt; C[tooldocs]\n  A --&gt; D[toolrun]</code></pre>"},{"location":"components/tooldocs/","title":"tooldocs","text":"<p>Progressive, structured documentation and examples for tools. Designed for schema-first usage and token-efficient guidance.</p>"},{"location":"components/tooldocs/#responsibilities","title":"Responsibilities","text":"<ul> <li>Provide detail levels (summary, schema, full)</li> <li>Serve short usage examples</li> <li>Attach doc metadata without changing core schema</li> </ul>"},{"location":"components/tooldocs/#example","title":"Example","text":"<pre><code>store := tooldocs.NewInMemoryStore(...)\n\ndoc, _ := store.DescribeTool(\"github:get_repo\", tooldocs.DetailSchema)\nexamples, _ := store.ListExamples(\"github:get_repo\", 2)\n</code></pre>"},{"location":"components/tooldocs/#diagram","title":"Diagram","text":"<pre><code>flowchart LR\n  A[tooldocs] --&gt; B[metatools-mcp]\n  A --&gt; C[agent]</code></pre>"},{"location":"components/toolindex/","title":"toolindex","text":"<p>Global registry and search layer for tools. Provides progressive discovery and canonical lookup by tool ID.</p>"},{"location":"components/toolindex/#responsibilities","title":"Responsibilities","text":"<ul> <li>Register tools and backends</li> <li>Search and list namespaces</li> <li>Resolve tools by ID</li> </ul>"},{"location":"components/toolindex/#example","title":"Example","text":"<pre><code>idx := toolindex.NewInMemoryIndex()\n_ = idx.RegisterTools([]toolmodel.Tool{tool}, backend)\n\nsummaries, _ := idx.Search(\"repo\", 5)\n</code></pre>"},{"location":"components/toolindex/#diagram","title":"Diagram","text":"<pre><code>flowchart LR\n  A[toolindex] --&gt; B[toolsearch]\n  A --&gt; C[tooldocs]\n  A --&gt; D[toolrun]</code></pre>"},{"location":"components/toolmodel/","title":"toolmodel","text":"<p>Canonical schema definitions for all tools. This is the source of truth for IDs, schemas, and annotations.</p>"},{"location":"components/toolmodel/#responsibilities","title":"Responsibilities","text":"<ul> <li>Define the MCP-aligned <code>Tool</code> structure</li> <li>Provide JSON Schema helpers for input/output validation</li> <li>Generate stable tool IDs</li> </ul>"},{"location":"components/toolmodel/#example","title":"Example","text":"<pre><code>import \"github.com/jonwraymond/toolmodel\"\n\ntool := toolmodel.Tool{\n  Name:        \"get_repo\",\n  Title:       \"Get Repo\",\n  Description: \"Fetch repository metadata\",\n  InputSchema:  []byte(`{\"type\":\"object\",\"properties\":{\"owner\":{\"type\":\"string\"},\"repo\":{\"type\":\"string\"}},\"required\":[\"owner\",\"repo\"]}`),\n  OutputSchema: []byte(`{\"type\":\"object\",\"properties\":{\"full_name\":{\"type\":\"string\"}}}`),\n}\n\nid := tool.ToolID(\"github\") // github:get_repo\n</code></pre>"},{"location":"components/toolmodel/#diagram","title":"Diagram","text":"<pre><code>flowchart LR\n  A[toolmodel.Tool] --&gt; B[toolindex]\n  A --&gt; C[tooldocs]\n  A --&gt; D[toolrun]</code></pre>"},{"location":"components/toolrun/","title":"toolrun","text":"<p>Execution layer for tools and chains. Backend-agnostic and aligned to MCP run_tool and run_chain semantics.</p>"},{"location":"components/toolrun/#responsibilities","title":"Responsibilities","text":"<ul> <li>Execute tools by ID</li> <li>Validate inputs and outputs (via toolmodel schemas)</li> <li>Run chains with step-wise results</li> </ul>"},{"location":"components/toolrun/#example","title":"Example","text":"<pre><code>runner := toolrun.NewDefaultRunner(...)\nresult, _ := runner.Run(ctx, \"github:get_repo\", map[string]any{\"owner\":\"o\",\"repo\":\"r\"})\n</code></pre>"},{"location":"components/toolrun/#diagram","title":"Diagram","text":"<pre><code>flowchart LR\n  A[toolrun] --&gt; B[toolruntime]\n  A --&gt; C[metatools-mcp]</code></pre>"},{"location":"components/toolruntime/","title":"toolruntime","text":"<p>Sandbox/runtime abstraction for executing code securely. Provides multiple backends with a single interface.</p>"},{"location":"components/toolruntime/#responsibilities","title":"Responsibilities","text":"<ul> <li>Provide runtime backends (unsafe, docker, kubernetes, gvisor, firecracker, wasm)</li> <li>Enforce execution limits and profiles</li> <li>Surface execution metadata</li> </ul>"},{"location":"components/toolruntime/#example","title":"Example","text":"<pre><code>rt := toolruntime.NewDefaultRuntime(toolruntime.RuntimeConfig{\n  Backends: map[toolruntime.SecurityProfile]toolruntime.Backend{\n    toolruntime.ProfileDev: unsafe.New(unsafe.Config{Mode: unsafe.ModeSubprocess}),\n  },\n  DefaultProfile: toolruntime.ProfileDev,\n})\n</code></pre>"},{"location":"components/toolruntime/#diagram","title":"Diagram","text":"<pre><code>flowchart LR\n  A[toolruntime] --&gt; B[unsafe]\n  A --&gt; C[docker]\n  A --&gt; D[kubernetes]\n  A --&gt; E[firecracker]\n  A --&gt; F[gvisor]\n  A --&gt; G[wasm]</code></pre>"},{"location":"components/toolsearch/","title":"toolsearch","text":"<p>Search strategy library that plugs into toolindex. Currently provides BM25 with room for semantic/hybrid search.</p>"},{"location":"components/toolsearch/#responsibilities","title":"Responsibilities","text":"<ul> <li>Provide BM25 and future ranking strategies</li> <li>Keep search logic decoupled from the index</li> <li>Support pluggable scoring for experiments</li> </ul>"},{"location":"components/toolsearch/#example","title":"Example","text":"<pre><code>engine := toolsearch.NewBM25Engine(toolsearch.BM25Config{K1: 1.5, B: 0.75})\nidx := toolindex.NewInMemoryIndex(toolindex.WithSearchEngine(engine))\n</code></pre>"},{"location":"components/toolsearch/#diagram","title":"Diagram","text":"<pre><code>flowchart LR\n  A[toolindex] --&gt; B[toolsearch]\n  B --&gt; C[BM25]\n  B --&gt; D[semantic]</code></pre>"},{"location":"operations/ci-and-versioning/","title":"CI and Versioning","text":""},{"location":"operations/ci-and-versioning/#ci-checks","title":"CI checks","text":"<p>Each repo runs CI for:</p> <ul> <li>go vet</li> <li>go test</li> <li>lint + security (golangci-lint + gosec)</li> </ul>"},{"location":"operations/ci-and-versioning/#version-alignment","title":"Version alignment","text":"<ul> <li><code>ai-tools-stack/go.mod</code> is the source of truth.</li> <li><code>VERSIONS.md</code> is generated in each repo and updated via:</li> </ul> <pre><code>scripts/update-version-matrix.sh --apply\n</code></pre>"},{"location":"operations/ci-and-versioning/#dependency-bumping","title":"Dependency bumping","text":"<p>Use the DAG-aware bump tool:</p> <pre><code>scripts/bump-dep.sh --dep toolruntime --latest --apply\n</code></pre> <p>This updates all downstream repos and ai-tools-stack in order.</p>"},{"location":"operations/ci-and-versioning/#docs-automation","title":"Docs automation","text":"<p>The unified docs site is built from this repo using MkDocs + the multirepo plugin. GitHub Actions runs on push to main and nightly (scheduled) to pull fresh docs from the tool repos.</p> <p>Local preview:</p> <pre><code>pip install -r requirements.txt\n./scripts/prepare-mkdocs-multirepo.sh\nmkdocs serve\n</code></pre>"},{"location":"library-docs-from-repos/toolmodel/","title":"toolmodel","text":"<p>Canonical tool schema definitions aligned to the MCP tool format.</p>"},{"location":"library-docs-from-repos/toolmodel/#what-this-repo-provides","title":"What this repo provides","text":"<ul> <li>The <code>Tool</code> type (name, title, description, input/output schema)</li> <li>Stable tool IDs</li> <li>JSON Schema helpers</li> </ul>"},{"location":"library-docs-from-repos/toolmodel/#example","title":"Example","text":"<pre><code>import \"github.com/jonwraymond/toolmodel\"\n\ntool := toolmodel.Tool{\n  Name: \"get_repo\",\n  Title: \"Get Repo\",\n  Description: \"Fetch repository metadata\",\n}\n</code></pre>"},{"location":"library-docs-from-repos/toolindex/","title":"toolindex","text":"<p>Global registry and search layer for tools.</p>"},{"location":"library-docs-from-repos/toolindex/#what-this-repo-provides","title":"What this repo provides","text":"<ul> <li>In-memory index</li> <li>Search and namespace listing</li> <li>Backend resolution by tool ID</li> </ul>"},{"location":"library-docs-from-repos/toolindex/#example","title":"Example","text":"<pre><code>idx := toolindex.NewInMemoryIndex()\n_ = idx.RegisterTools([]toolmodel.Tool{tool}, backend)\n</code></pre>"},{"location":"library-docs-from-repos/tooldocs/","title":"tooldocs","text":"<p>Progressive docs and examples for tools.</p>"},{"location":"library-docs-from-repos/tooldocs/#what-this-repo-provides","title":"What this repo provides","text":"<ul> <li>Summary/schema/full documentation tiers</li> <li>Example payloads</li> <li>Lightweight doc store</li> </ul>"},{"location":"library-docs-from-repos/tooldocs/#example","title":"Example","text":"<pre><code>doc, _ := store.DescribeTool(\"github:get_repo\", tooldocs.DetailSchema)\n</code></pre>"},{"location":"library-docs-from-repos/toolrun/","title":"toolrun","text":"<p>Execution and chaining layer for tools.</p>"},{"location":"library-docs-from-repos/toolrun/#what-this-repo-provides","title":"What this repo provides","text":"<ul> <li>Run a tool by ID</li> <li>Run tool chains with step results</li> <li>Schema validation hooks</li> </ul>"},{"location":"library-docs-from-repos/toolrun/#example","title":"Example","text":"<pre><code>result, _ := runner.Run(ctx, \"github:get_repo\", args)\n</code></pre>"},{"location":"library-docs-from-repos/toolcode/","title":"toolcode","text":"<p>Code-mode orchestration for tool execution.</p>"},{"location":"library-docs-from-repos/toolcode/#what-this-repo-provides","title":"What this repo provides","text":"<ul> <li>Execute short orchestration snippets</li> <li>A minimal in-sandbox API</li> <li>Timeouts and limits</li> </ul>"},{"location":"library-docs-from-repos/toolcode/#example","title":"Example","text":"<pre><code>res, _ := executor.ExecuteCode(ctx, \"go\", \"__out = 2 + 2\", 2*time.Second)\n</code></pre>"},{"location":"library-docs-from-repos/toolruntime/","title":"toolruntime","text":"<p>Runtime/sandbox abstraction with multiple backends.</p>"},{"location":"library-docs-from-repos/toolruntime/#what-this-repo-provides","title":"What this repo provides","text":"<ul> <li>Backends for unsafe, docker, kubernetes, gvisor, firecracker, wasm</li> <li>Profiles and execution limits</li> <li>Standardized runtime interface</li> </ul>"},{"location":"library-docs-from-repos/toolruntime/#example","title":"Example","text":"<pre><code>rt := toolruntime.NewDefaultRuntime(cfg)\n</code></pre>"},{"location":"library-docs-from-repos/toolsearch/","title":"toolsearch","text":"<p>Search strategy library for toolindex.</p>"},{"location":"library-docs-from-repos/toolsearch/#what-this-repo-provides","title":"What this repo provides","text":"<ul> <li>BM25 ranking</li> <li>Pluggable search strategies</li> </ul>"},{"location":"library-docs-from-repos/toolsearch/#example","title":"Example","text":"<pre><code>engine := toolsearch.NewBM25Engine(cfg)\n</code></pre>"},{"location":"library-docs-from-repos/metatools-mcp/","title":"metatools-mcp","text":"<p>MCP server that exposes the tool stack via standardized MCP tools.</p>"},{"location":"library-docs-from-repos/metatools-mcp/#what-this-repo-provides","title":"What this repo provides","text":"<ul> <li>MCP tool wiring for search, docs, run, and code execution</li> <li>Official MCP Go SDK integration</li> </ul>"},{"location":"library-docs-from-repos/metatools-mcp/#example","title":"Example","text":"<pre><code>srv := metatools.NewServer(cfg)\n_ = srv.Run(context.Background(), &amp;mcp.StdioTransport{})\n</code></pre>"}]}